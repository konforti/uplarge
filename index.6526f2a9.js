let e,t,n,a,s,r,o,d,u,i,l,p,c;function m(m){if(!m)return TypeError("The file is missing");d=(o=m).size,function m(v=!1){var g,E;let f,L;(i=u+parseInt(a))>d&&(i=d);let h=o.slice(u,i);!v&&r++,(g=u,E=i-1,(f=new FormData).append("file",h),f.append("upload_preset",n),f.append("cloud_name",e),f.append("public_id",t),L=new XMLHttpRequest,new Promise(function(t,n){L.onload=()=>{4===L.readyState&&(2===parseInt(L.status/100)?t(L):n({status:L.status,statusText:L.statusText}));// Only run if the request is complete (4 == Done)
},L.open("POST",`https://api.cloudinary.com/v1_1/${e}/auto/upload`),L.timeout=36e5,L.setRequestHeader("X-Unique-Upload-Id",s),L.setRequestHeader("Content-Range",`bytes ${g}-${E}/${d}`),L.upload.onloadstart=function(){// Fired when a request has started to load data
},L.onloadend=function(){// Fired when a request has been completed, whether successfully (after load) or unsuccessfully (after abort or error)
},L.upload.onabort=function(){// Fired when a request has been aborted, for example, because the program called XMLHttpRequest.abort().
},L.upload.onprogress=function(e){// Fired periodically when a request receives more data
let t=Math.max(e.total,d),n=(r-1)*a+e.loaded;c.dispatchEvent(new CustomEvent("progress",{detail:{percent:n/t*100}}))},L.upload.ontimeout=function(){// Fired when progress is terminated due to preset time expiring
},L.upload.onerror=function(e){c.dispatchEvent(new CustomEvent("error",{detail:{status:L.status,message:e.target.responseText}})),n({status:L.status,statusText:L.statusText})},L.send(f)})).then(e=>{2===parseInt(e.status/100)?(p=0,i<d?(u=i,m()):c.dispatchEvent(new CustomEvent("success",{detail:{response:JSON.parse(e.response)}}))):p++<=l&&m(!0)}).catch(e=>{console.error(e)})}()}function v(o){var d;let v=(d={cloudName:"dxuiuruim",uploadPreset:"unsigned"},s=+new Date,t=d&&d.publicId||s,e=d&&d.cloudName||"demo",n=d&&d.uploadPreset||"unsigned",a=6e6,u=0,i=0,r=0,l=3,p=0,{emitter:c=new EventTarget,uploadFile:m});v.uploadFile(o),v.emitter.addEventListener("progress",e=>{document.getElementById("progress").value=Math.round(e.detail.percent),document.getElementById("status").innerHTML=`${Math.round(e.detail.percent)}%`}),v.emitter.addEventListener("success",e=>{let t=e.detail.response,n=t.playback_url;"video"!==t.resource_type&&(n=t.secure_url),document.getElementById("url").innerHTML=n,document.getElementById("url").href=n}),v.emitter.addEventListener("error",e=>{document.getElementById("status").innerHTML=`Error during the upload: [${e.detail.status}] ${e.detail.message}.`})}let g=document.getElementById("picker");g.addEventListener("change",e=>{v(g.files[0])});let E=document.querySelector(".container");E.addEventListener("dragenter",e=>{e.preventDefault(),e.stopPropagation(),E.classList.add("active")},!1),E.addEventListener("dragleave",e=>{e.preventDefault(),e.stopPropagation(),E.classList.remove("active")},!1),E.addEventListener("dragover",e=>{e.preventDefault(),e.stopPropagation(),E.classList.add("active")},!1),E.addEventListener("drop",e=>{e.preventDefault(),e.stopPropagation(),E.classList.remove("active"),v(e.dataTransfer.files[0])},!1);//# sourceMappingURL=index.6526f2a9.js.map

//# sourceMappingURL=index.6526f2a9.js.map
